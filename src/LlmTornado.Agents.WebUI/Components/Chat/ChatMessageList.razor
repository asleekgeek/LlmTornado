@using LlmTornado.Chat.Web.Models
@using LlmTornado.Chat.Web.Components.Chat

<div class="chat-messages" id="chat-messages">
    @foreach (var message in Messages)
    {
        <ChatMessageItem Message="message" />
    }

    @if (ShowTypingIndicator)
    {
        <div class="message assistant">
            <div class="message-header">
                <div class="message-meta">
                    <span class="message-role">Assistant</span>
                    <span class="message-timestamp">@DateTime.Now.ToString("HH:mm:ss")</span>
                </div>
            </div>
            <div class="message-content">
                <div class="typing-container">
                    <div class="typing-indicator">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                    <span class="thinking-text">Thinking...</span>
                </div>
            </div>
        </div>
    }
</div>

@code {
    /// <summary>
    /// List of chat messages to display
    /// </summary>
    [Parameter, EditorRequired] public List<ChatMessage> Messages { get; set; } = new();

    /// <summary>
    /// Whether to show the typing indicator
    /// </summary>
    [Parameter] public bool ShowTypingIndicator { get; set; }
}